# Titanic Survival Prediction (Flask)

Short project that trains a few classifiers on the classic Titanic dataset and exposes a minimal Flask web app to load the trained model and make single-passenger survival predictions.

## What this repo contains

- `titanic.ipynb` — Jupyter notebook used to explore the dataset, build preprocessing pipelines, train several models (Logistic Regression, Decision Tree, Random Forest, Gradient Boosting), and save the best model to `titanic_model.pkl`.
- `titanic_model.pkl` — (generated by the notebook) serialized scikit-learn pipeline that includes preprocessing and the selected classifier. If not present, run the notebook to create it.
- `app.py` — small Flask application that loads the saved pipeline and provides a web UI / API to request survival predictions.
- `templates/index.html` — simple frontend used by the Flask app for interactive predictions.
- `requirements.txt` — Python dependencies used by the project.

## Quick start (local)

1. Create and activate a virtual environment (recommended):

   python3 -m venv .venv
   source .venv/bin/activate

2. Install dependencies:

   pip install -r requirements.txt

3. If you don't already have a trained model, open `titanic.ipynb` and run the notebook to produce `titanic_model.pkl` (or run the cell that trains and saves the model). The notebook trains multiple models and saves the best pipeline.

4. Run the Flask app:

   python app.py

5. Open a browser at http://127.0.0.1:5000 to access the web UI and make predictions.

## Usage (programmatic)

If the Flask app exposes an API endpoint (e.g., `/predict`), you can POST a JSON payload containing the required features (Pclass, Sex, Age, Fare, FamilySize, IsAlone) and receive a prediction in response. Example payload shape:

```json
{
  "Pclass": 3,
  "Sex": "male",
  "Age": 22,
  "Fare": 7.25,
  "FamilySize": 1,
  "IsAlone": 1
}
```

The app loads the saved pipeline which performs preprocessing (scaling / one-hot encoding) and returns the predicted class (0/1) and/or probability depending on implementation in `app.py`.

## Deployment

This project is deployed to Render.com and served with Gunicorn. Visit the live application here:

https://titanic-predictor-cvtt.onrender.com/

When deployed, the app uses the same saved scikit-learn pipeline (`titanic_model.pkl`) and the Flask entrypoint (served by Gunicorn, e.g. `gunicorn app:app`). If you change or retrain the model locally, re-upload the new `titanic_model.pkl` to your Render service (or update your deployment) and restart the service to pick up the new model.

## Contract (inputs / outputs / error modes)

- Inputs: passenger features in the notebook (`Pclass`, `Sex`, `Age`, `Fare`, `FamilySize`, `IsAlone`).
- Output: predicted survival label (0 = did not survive, 1 = survived), and optionally a probability score.
- Error modes: missing or invalid feature types, unseen categorical values (OneHotEncoder handles unknowns if configured), or missing `titanic_model.pkl` file.